<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eid Mubarak!</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

        :root {
            --primary-color: #0D0D2B; /* Deep Blue/Purple */
            --secondary-color: #302050; /* Dark Magenta */
            --accent-color: #FFD700; /* Gold */
            --text-color: #FFFFFF;
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --glow-color-1: rgba(255, 215, 0, 0.8); /* Gold */
            --glow-color-2: rgba(255, 255, 255, 0.7);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--primary-color);
            background-image: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
            text-align: center;
            overflow-x: hidden;
        }

        .container {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px 30px;
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            max-width: 500px;
            width: 100%;
            animation: fadeInPage 0.8s ease-out forwards;
        }

        @keyframes fadeInPage {
            from { opacity: 0; transform: translateY(30px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        .eid-gif {
            max-width: 100%;
            height: auto;
            border-radius: 15px;
            margin-bottom: 20px;
            display: block;
            margin-left: auto;
            margin-right: auto;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .greeting-text {
            font-size: 1.6em;
            font-weight: 700;
            margin-bottom: 25px;
            line-height: 1.4;
            background: linear-gradient(90deg, var(--accent-color), #FFFACD, var(--accent-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
            text-shadow: 0 0 8px var(--glow-color-1), 0 0 12px var(--glow-color-2), 0 0 15px var(--glow-color-1);
            animation: fadeInGreeting 1.5s ease-out 0.5s forwards;
            opacity: 0;
        }

        @keyframes fadeInGreeting {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .name-input {
            width: 100%;
            padding: 12px 15px;
            margin-bottom: 20px;
            border-radius: 10px;
            border: 1px solid var(--glass-border);
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-color);
            font-size: 1em;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .name-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .name-input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.3), inset 0 2px 4px rgba(0,0,0,0.2);
        }

        .action-button {
            display: inline-block;
            width: 100%;
            padding: 12px 20px;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--accent-color), #FFB800);
            color: var(--primary-color);
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
            outline: 2px solid transparent; /* For focus, but main outline is from gradient */
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }
        
        .action-button:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.5);
        }

        .action-button:active {
            transform: translateY(0px) scale(0.98);
            box-shadow: 0 2px 10px rgba(255, 215, 0, 0.4);
        }

        .whatsapp-button {
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px; /* Space between icon and text */
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
        }

        .whatsapp-button:hover {
            box-shadow: 0 6px 20px rgba(37, 211, 102, 0.5);
        }
         .whatsapp-button:active {
            box-shadow: 0 2px 10px rgba(37, 211, 102, 0.4);
        }

        .whatsapp-button svg {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }
        
        #customMessageContainer {
            margin-top: 10px; /* Space above the message if it appears after generate button */
            animation: fadeInMessage 0.5s ease-out;
        }

        @keyframes fadeInMessage {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .custom-eid-message {
            font-size: 1.1em;
            margin-bottom: 20px;
            padding: 15px;
            background: var(--glass-bg);
            border-radius: 10px;
            border: 1px solid var(--glass-border);
            line-height: 1.5;
        }

        .audio-controls {
            margin-top: 25px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .audio-button {
            padding: 10px 18px;
            background: var(--glass-bg);
            color: var(--text-color);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            font-size: 0.9em;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        .audio-button:hover {
            background-color: rgba(255, 255, 255, 0.15);
            transform: scale(1.05);
        }

        /* Responsive adjustments */
        @media (max-width: 600px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            .greeting-text {
                font-size: 1.4em;
            }
            .action-button, .name-input {
                font-size: 1em;
            }
             .custom-eid-message {
                font-size: 1em;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <img src="eid.gif" alt="Eid Festivities" class="eid-gif">

        <h1 class="greeting-text">✨ Eid Mubarak! May this Eid bring joy, peace, and prosperity to all! ✨</h1>

        <input type="text" id="userName" class="name-input" placeholder="Enter your name">
        
        <button id="generateButton" class="action-button">Generate Eid Wish</button>

        <div id="customMessageContainer" style="display: none;">
            <p id="customMessage" class="custom-eid-message"></p>
            <button id="whatsappShareButton" class="action-button whatsapp-button">
                <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor" style="vertical-align: middle; margin-right: 8px;">
                    <path d="M12.04 2c-5.46 0-9.91 4.45-9.91 9.91 0 1.75.46 3.45 1.32 4.95L2.05 22l5.25-1.38c1.45.79 3.08 1.21 4.74 1.21 5.46 0 9.91-4.45 9.91-9.91S17.5 2 12.04 2zm0 18.06c-1.5 0-2.96-.4-4.22-1.13l-.3-.18-3.12.82.83-3.04-.2-.32c-.8-1.32-1.23-2.84-1.23-4.41 0-4.54 3.7-8.24 8.24-8.24 4.54 0 8.24 3.7 8.24 8.24s-3.7 8.24-8.24 8.24zm4.52-6.13c-.25-.12-1.47-.72-1.7-.8s-.39-.12-.55.12c-.16.25-.64.8-.79.96-.15.16-.3.18-.55.06s-1.04-.38-1.98-1.22c-.73-.66-1.22-1.47-1.36-1.72s-.03-.38.09-.51c.11-.11.25-.28.37-.42.12-.12.16-.21.25-.35.08-.12.04-.23-.02-.35s-.55-1.32-.76-1.81c-.2-.48-.4-.42-.55-.42h-.48c-.16 0-.42.06-.64.3s-.87.85-.87 2.07.9 2.4 1.03 2.56c.12.16 1.76 2.67 4.27 3.77 1.42.62 2.05.85 2.56.85.71.01 1.28-.35 1.47-.68.2-.35.2-.64.14-.76s-.24-.28-.5-.4z"></path>
                </svg>
                Share on WhatsApp
            </button>
        </div>
        
        <div class="audio-controls">
            <audio id="backgroundMusic" src="song.mp3" loop autoplay></audio>
            <button id="muteButton" class="audio-button">Unmute Music</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const userNameInput = document.getElementById('userName');
            const generateButton = document.getElementById('generateButton');
            const customMessageContainer = document.getElementById('customMessageContainer');
            const customMessageElement = document.getElementById('customMessage');
            const whatsappShareButton = document.getElementById('whatsappShareButton');

            const audio = document.getElementById('backgroundMusic');
            const muteButton = document.getElementById('muteButton');

            let generatedMessageText = ""; // To store the message for sharing

            // --- Audio Controls ---
            // Browsers often block autoplay with sound. We'll start muted.
            audio.muted = true;
            muteButton.textContent = 'Unmute Music';

            // Try to play the audio (muted).
            audio.play().catch(error => {
                console.warn("Autoplay (muted) was prevented or interrupted. User interaction needed to play sound.", error);
                // UI already reflects muted state. User will click "Unmute Music".
                // Some browsers might not even allow `play()` before interaction.
                // In this case, the first click on "Unmute Music" will try to play.
            });

            muteButton.addEventListener('click', () => {
                if (audio.muted) {
                    audio.muted = false;
                    muteButton.textContent = 'Mute Music';
                    // If audio is paused (e.g., couldn't autoplay even muted), play it now.
                    if (audio.paused) {
                        audio.play().catch(e => console.error("Error playing audio after unmute:", e));
                    }
                } else {
                    audio.muted = true;
                    muteButton.textContent = 'Unmute Music';
                }
            });

            // --- Greeting Generation ---
            generateButton.addEventListener('click', () => {
                const name = userNameInput.value.trim();
                const displayName = name ? name : "Your Friend";

                generatedMessageText = `Eid Mubarak from ${displayName}! 🎉 Wishing you happiness and blessings!`;
                customMessageElement.textContent = generatedMessageText;
                customMessageContainer.style.display = 'block';
            });

            // --- WhatsApp Sharing ---
            whatsappShareButton.addEventListener('click', () => {
                if (!generatedMessageText) {
                    alert("Please generate a wish first!");
                    return;
                }

                const siteUrl = window.location.href;
                const whatsappMessage = `${generatedMessageText}\n\nCheck out this Eid Greeting: ${siteUrl}`;
                const whatsappUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(whatsappMessage)}`;
                
                window.open(whatsappUrl, '_blank');
            });
        });
    </script>

</body>
</html>